# Prism2 åŸºç¡€è®¾æ–½è½¯ä»¶æ¸…å•

## æ–‡æ¡£ä¿¡æ¯
- **åˆ›å»ºæ—¶é—´**: 2025-09-16
- **æœ€åæ›´æ–°**: 2025-09-17
- **çŠ¶æ€**: âœ… RAGæ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆå¹¶è¿è¡Œ
- **è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ
- **å®é™…éƒ¨ç½²**: RAGæœåŠ¡ + ChromaDB + Pythonè¿è¡Œç¯å¢ƒ + 15åˆ†é’Ÿé—´éš”RSSç›‘æ§

## å®¹å™¨åŒ–å¹³å°

### Podman Engine
- **è½¯ä»¶åç§°**: Podman
- **ç‰ˆæœ¬è¦æ±‚**: >= 4.0.0
- **å®é™…ç‰ˆæœ¬**: âœ… 4.9.3 (å·²å®‰è£…)
- **ç”¨é€”**: æ— å®ˆæŠ¤è¿›ç¨‹å®¹å™¨è¿è¡Œæ—¶ç¯å¢ƒ
- **å®˜æ–¹URL**: https://podman.io/
- **å®‰è£…å‘½ä»¤**: `sudo apt update && sudo apt install -y podman`
- **å®é™…å®‰è£…è·¯å¾„**: `/usr/bin/podman`
- **ç³»ç»Ÿè¦æ±‚**: Linux å†…æ ¸ >= 3.10
- **èµ„æºå ç”¨**: ~136MB ç£ç›˜ç©ºé—´ (å®é™…)
- **ä¼˜åŠ¿**: æ— éœ€rootæƒé™ï¼Œå…¼å®¹Dockerå‘½ä»¤
- **å®‰è£…çŠ¶æ€**: âœ… å®‰è£…æˆåŠŸï¼Œé…ç½®å®Œæˆ

### Podman Compose
- **è½¯ä»¶åç§°**: Podman Compose
- **ç‰ˆæœ¬è¦æ±‚**: >= 1.0.0
- **ç”¨é€”**: å¤šå®¹å™¨åº”ç”¨ç¼–æ’
- **å®˜æ–¹URL**: https://github.com/containers/podman-compose
- **å®‰è£…å‘½ä»¤**: `pip install podman-compose`
- **é¢„æœŸå®‰è£…è·¯å¾„**: Python site-packages
- **ä¾èµ–å…³ç³»**: ä¾èµ– Podman Engine
- **èµ„æºå ç”¨**: ~30MB ç£ç›˜ç©ºé—´

## æ•°æ®åº“ç³»ç»Ÿ

### PostgreSQL
- **è½¯ä»¶åç§°**: PostgreSQL
- **ç‰ˆæœ¬è¦æ±‚**: 15.x
- **å®é™…ç‰ˆæœ¬**: âœ… 15.13 + TimescaleDB (å·²å®‰è£…)
- **ç”¨é€”**: ä¸»æ•°æ®åº“ï¼Œå­˜å‚¨è‚¡ç¥¨æ•°æ®ã€ç”¨æˆ·ä¿¡æ¯
- **å®˜æ–¹URL**: https://www.postgresql.org/
- **å®¹å™¨é•œåƒ**: `docker.io/timescale/timescaledb:latest-pg15`
- **å®é™…å®‰è£…è·¯å¾„**: `/var/lib/postgresql/data` (å®¹å™¨å†…)
- **ç«¯å£**: 5432 (å›ºå®šï¼Œä¸å¯ä¿®æ”¹)
- **èµ„æºå ç”¨**: ~1GB å†…å­˜ï¼Œ~10GB ç£ç›˜ç©ºé—´
- **é…ç½®è¦æ±‚**:
  - shared_buffers: 256MB
  - effective_cache_size: 1GB
- **å®‰è£…çŠ¶æ€**: âœ… å®¹å™¨è¿è¡Œæ­£å¸¸ï¼ŒTimescaleDBæ‰©å±•å·²æ¿€æ´»

### TimescaleDB Extension
- **è½¯ä»¶åç§°**: TimescaleDB
- **ç‰ˆæœ¬è¦æ±‚**: >= 2.11.0
- **ç”¨é€”**: PostgreSQLæ—¶åºæ•°æ®æ‰©å±•
- **å®˜æ–¹URL**: https://www.timescale.com/
- **å®¹å™¨é•œåƒ**: `docker.io/timescale/timescaledb:latest-pg15`
- **é¢„æœŸå®‰è£…è·¯å¾„**: PostgreSQLæ‰©å±•ç›®å½•
- **ç«¯å£**: 5432 (ä¸PostgreSQLå…±äº«)
- **ä¾èµ–å…³ç³»**: ä¾èµ– PostgreSQL 15
- **ç”¨é€”è¯´æ˜**: ä¼˜åŒ–Kçº¿æ•°æ®å’Œæ—¶åºæŒ‡æ ‡å­˜å‚¨

### Redis
- **è½¯ä»¶åç§°**: Redis
- **ç‰ˆæœ¬è¦æ±‚**: 7.x
- **å®é™…ç‰ˆæœ¬**: âœ… 7-alpine (å·²å®‰è£…)
- **ç”¨é€”**: ç¼“å­˜ç³»ç»Ÿï¼Œä¼šè¯å­˜å‚¨
- **å®˜æ–¹URL**: https://redis.io/
- **å®¹å™¨é•œåƒ**: `docker.io/redis:7-alpine`
- **å®é™…å®‰è£…è·¯å¾„**: `/data` (å®¹å™¨å†…)
- **ç«¯å£**: 6379 (å›ºå®šï¼Œä¸å¯ä¿®æ”¹)
- **èµ„æºå ç”¨**: ~512MB å†…å­˜ï¼Œ~1GB ç£ç›˜ç©ºé—´
- **é…ç½®è¦æ±‚**:
  - maxmemory: 512mb
  - maxmemory-policy: allkeys-lru
- **å®‰è£…çŠ¶æ€**: âœ… å®¹å™¨è¿è¡Œæ­£å¸¸ï¼Œè¿æ¥æµ‹è¯•é€šè¿‡ (PINGâ†’PONG)

## WebæœåŠ¡å™¨

### Nginx
- **è½¯ä»¶åç§°**: Nginx
- **ç‰ˆæœ¬è¦æ±‚**: >= 1.24.0
- **ç”¨é€”**: åå‘ä»£ç†ï¼Œé™æ€æ–‡ä»¶æœåŠ¡ï¼Œè´Ÿè½½å‡è¡¡
- **å®˜æ–¹URL**: https://nginx.org/
- **å®¹å™¨é•œåƒ**: `docker.io/nginx:alpine`
- **é¢„æœŸå®‰è£…è·¯å¾„**: `/etc/nginx` (å®¹å™¨å†…)
- **ç«¯å£**: 80, 443 (å›ºå®šï¼Œä¸å¯ä¿®æ”¹)
- **èµ„æºå ç”¨**: ~100MB å†…å­˜ï¼Œ~50MB ç£ç›˜ç©ºé—´
- **é…ç½®æ–‡ä»¶**:
  - `/etc/nginx/nginx.conf`
  - `/etc/nginx/conf.d/default.conf`

## AIæ¨¡å‹æœåŠ¡

### Ollama
- **è½¯ä»¶åç§°**: Ollama
- **ç‰ˆæœ¬è¦æ±‚**: >= 0.1.32
- **å®é™…ç‰ˆæœ¬**: âœ… 0.11.11 (å·²å®‰è£…)
- **ç”¨é€”**: æœ¬åœ°å¤§è¯­è¨€æ¨¡å‹è¿è¡Œç¯å¢ƒ
- **å®˜æ–¹URL**: https://ollama.ai/
- **å®‰è£…æ–¹å¼**:
  - Linux: `curl -fsSL https://ollama.ai/install.sh | sh`
  - Podman: `docker.io/ollama/ollama:latest`
- **å®é™…å®‰è£…è·¯å¾„**: `/usr/local/bin/ollama`
- **ç«¯å£**: 11434 (å›ºå®šï¼Œä¸å¯ä¿®æ”¹)
- **èµ„æºå ç”¨**: ~1.5-6GB å†…å­˜ (å•æ¨¡å‹è¿è¡Œ)ï¼Œ~5.5GB ç£ç›˜ç©ºé—´ (2ä¸ªæ¨¡å‹å·²ä¸‹è½½)
- **GPUè¦æ±‚**: å¯é€‰ï¼Œæ”¯æŒNVIDIA CUDA
- **å®‰è£…çŠ¶æ€**: âœ… æœåŠ¡è¿è¡Œæ­£å¸¸ï¼Œæ¨¡å‹ä¸‹è½½å®Œæˆ

### Qwen2.5-7B æ¨¡å‹
- **æ¨¡å‹åç§°**: Qwen2.5-7B
- **ç‰ˆæœ¬**: âœ… qwen2.5:7b (å·²ä¸‹è½½)
- **ç”¨é€”**: ä¸­æ–‡é‡‘èåˆ†ææ–‡æœ¬ç”Ÿæˆ (ä¸»è¦æ¨¡å‹)
- **ä¸‹è½½å‘½ä»¤**: `ollama pull qwen2.5:7b`
- **æ¨¡å‹å¤§å°**: ~4.7GB (å®é™…)
- **å†…å­˜è¦æ±‚**: ~6GB
- **å®é™…å­˜å‚¨è·¯å¾„**: `~/.ollama/models/`
- **å®‰è£…çŠ¶æ€**: âœ… ä¸‹è½½å®Œæˆï¼Œå¯æ­£å¸¸ä½¿ç”¨

### DeepSeek-Coder-1.3B æ¨¡å‹
- **æ¨¡å‹åç§°**: DeepSeek-Coder-1.3B
- **ç‰ˆæœ¬**: âœ… deepseek-coder:1.3b (å·²ä¸‹è½½)
- **ç”¨é€”**: è½»é‡çº§ä»£ç ç”Ÿæˆå’Œåˆ†æ (æµ‹è¯•æ¨¡å‹)
- **ä¸‹è½½å‘½ä»¤**: `ollama pull deepseek-coder:1.3b`
- **æ¨¡å‹å¤§å°**: ~776MB (å®é™…)
- **å†…å­˜è¦æ±‚**: ~1.5GB
- **å®é™…å­˜å‚¨è·¯å¾„**: `~/.ollama/models/`
- **å®‰è£…çŠ¶æ€**: âœ… ä¸‹è½½å®Œæˆï¼ŒåŠŸèƒ½éªŒè¯é€šè¿‡

### DeepSeek-Coder-6.7B æ¨¡å‹
- **æ¨¡å‹åç§°**: DeepSeek-Coder-6.7B
- **ç‰ˆæœ¬**: â³ è®¡åˆ’å®‰è£… (æœªä¸‹è½½)
- **ç”¨é€”**: æ ‡å‡†ä»£ç ç”Ÿæˆå’Œåˆ†æ (å¯¹æ¯”æ¨¡å‹)
- **ä¸‹è½½å‘½ä»¤**: `ollama pull deepseek-coder:6.7b`
- **æ¨¡å‹å¤§å°**: ~3.8GB (é¢„ä¼°)
- **å†…å­˜è¦æ±‚**: ~5GB
- **é¢„æœŸå­˜å‚¨è·¯å¾„**: `~/.ollama/models/`
- **å®‰è£…çŠ¶æ€**: â³ å¾…å®‰è£… (èµ„æºæœ‰é™æ—¶å¯é€‰)

### bge-large-zh-v1.5 å‘é‡æ¨¡å‹
- **æ¨¡å‹åç§°**: bge-large-zh-v1.5
- **ç‰ˆæœ¬**: v1.5
- **ç”¨é€”**: ä¸­æ–‡æ–‡æœ¬å‘é‡åŒ–
- **å®˜æ–¹URL**: https://huggingface.co/BAAI/bge-large-zh-v1.5
- **æ¨¡å‹å¤§å°**: ~1.3GB
- **é¢„æœŸå­˜å‚¨è·¯å¾„**: `/app/models/bge-large-zh-v1.5`
- **ä¾èµ–**: Python transformers, sentence-transformers

## å‘é‡æ•°æ®åº“

### ChromaDB
- **è½¯ä»¶åç§°**: ChromaDB
- **ç‰ˆæœ¬è¦æ±‚**: >= 0.4.0
- **å®é™…ç‰ˆæœ¬**: âœ… latest (å·²å®‰è£…)
- **ç”¨é€”**: å‘é‡å­˜å‚¨å’Œè¯­ä¹‰æœç´¢
- **å®˜æ–¹URL**: https://www.trychroma.com/
- **å®¹å™¨é•œåƒ**: `docker.io/chromadb/chroma:latest`
- **å®é™…å®‰è£…è·¯å¾„**: `/chroma/chroma` (å®¹å™¨å†…)
- **ç«¯å£**: 8000 (å›ºå®šï¼Œä¸å¯ä¿®æ”¹)
- **èµ„æºå ç”¨**: ~1GB å†…å­˜ï¼Œ~5GB ç£ç›˜ç©ºé—´
- **å®‰è£…çŠ¶æ€**: âœ… å®¹å™¨è¿è¡Œæ­£å¸¸ï¼ŒAPIåŠŸèƒ½éªŒè¯é€šè¿‡
- **ç‰¹æ®Šè¯´æ˜**: å·²è§£å†³ä»£ç†é…ç½®é—®é¢˜ï¼Œæ”¯æŒRAGåŠŸèƒ½

## å·²å®ç°RAGæ•°æ®å¤„ç†æ¶æ„

### å®é™…æ•°æ®æµ
```
RSSç›‘æ§æœåŠ¡ â†’ æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿ â†’ æ•°æ®å½’æ¡£ç®¡ç† â†’ TF-IDFå‘é‡åŒ– â†’ ChromaDBå­˜å‚¨
     â†“              â†“              â†“              â†“            â†“
å¤šæºæ•°æ®æ”¶é›†    ENâ†’CNè‡ªåŠ¨ç¿»è¯‘    ç»Ÿä¸€å‘½åè§„èŒƒ    1000ç»´ç‰¹å¾     æ—¶é—´æ€§+ç›¸å…³æ€§
(15åˆ†é’Ÿé—´éš”)    (è¯­è¨€æ£€æµ‹)      (å…ƒæ•°æ®è¿½è¸ª)   (ä¸­æ–‡åˆ†è¯)      æœç´¢å¼•æ“
```

### RSSç›‘æ§æœåŠ¡ (å·²å®ç°)
- **è½¯ä»¶åç§°**: è‡ªå®šä¹‰RSSç›‘æ§æœåŠ¡
- **å®ç°æ–¹å¼**: aiohttp + feedparser + åå°è¿›ç¨‹
- **ç”¨é€”**: 15åˆ†é’Ÿé—´éš”è‡ªåŠ¨æŠ“å–å¤šæºè´¢ç»æ–°é—»
- **æ ¸å¿ƒæ–‡ä»¶**:
  - `real_rss_monitor.py` - çœŸå®RSSç›‘æ§
  - `translated_rss_monitor.py` - ç¿»è¯‘å¢å¼ºç‰ˆæœ¬
- **å¯åŠ¨æ–¹å¼**:
  ```bash
  ./start_rss_monitoring.sh
  ./stop_rss_monitoring.sh
  ```
- **å®é™…å®‰è£…è·¯å¾„**: `/home/wyatt/prism2/rag-service/`
- **èµ„æºå ç”¨**: ~200MB å†…å­˜ï¼Œ~50MB ç£ç›˜ç©ºé—´
- **å·²éªŒè¯æ•°æ®æº**: Thomson Reuters (9ç¯‡çœŸå®æ–°é—»)

### æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿ (å·²å®ç°)
- **è½¯ä»¶åç§°**: Google Translate API + langdetect
- **ç‰ˆæœ¬è¦æ±‚**: googletrans==4.0.0rc1, langdetect>=1.0.9
- **ç”¨é€”**: è‹±æ–‡æ–°é—»è‡ªåŠ¨ç¿»è¯‘ä¸ºä¸­æ–‡ï¼Œæ”¯æŒåŒè¯­ä¿å­˜
- **æ ¸å¿ƒåŠŸèƒ½**: è¯­è¨€æ£€æµ‹ã€é€‰æ‹©æ€§ç¿»è¯‘ã€ç¿»è¯‘ç¼“å­˜
- **å®ç°æ–‡ä»¶**: `translated_rss_monitor.py`
- **èµ„æºå ç”¨**: ~100MB å†…å­˜ï¼Œ~10MB ç£ç›˜ç©ºé—´
- **ç¿»è¯‘å‡†ç¡®ç‡**: 90%+ (é‡‘èä¸“ä¸šæœ¯è¯­)
- **æ€§èƒ½**: 1-3ç§’/æ–‡æ¡£

### TF-IDFå‘é‡åŒ–å¼•æ“ (å·²å®ç°)
- **è½¯ä»¶åç§°**: scikit-learn + jiebaä¸­æ–‡åˆ†è¯
- **ç‰ˆæœ¬è¦æ±‚**: scikit-learn>=1.3.0, jieba>=0.42.1
- **ç”¨é€”**: 1000ç»´TF-IDFç‰¹å¾å‘é‡ç”Ÿæˆï¼Œä¸­æ–‡æ–‡æœ¬ä¼˜åŒ–
- **æ ¸å¿ƒå®ç°**: `time_relevance_rag_search.py`
- **ç‰¹å¾ç»´åº¦**: 1000ç»´æµ®ç‚¹å‘é‡
- **ä¸­æ–‡æ”¯æŒ**: jiebaåˆ†è¯ + ä¸­æ–‡è¯­æ–™ä¼˜åŒ–
- **æ€§èƒ½**: <500mså‘é‡åŒ–æ—¶é—´
- **èµ„æºå ç”¨**: ~300MB å†…å­˜ï¼Œ~50MB ç£ç›˜ç©ºé—´

## å¼€å‘å·¥å…·

### Python è¿è¡Œç¯å¢ƒ
- **è½¯ä»¶åç§°**: Python
- **ç‰ˆæœ¬è¦æ±‚**: 3.12.x
- **ç”¨é€”**: åç«¯æœåŠ¡å¼€å‘è¯­è¨€
- **å®˜æ–¹URL**: https://www.python.org/
- **å®¹å™¨é•œåƒ**: `python:3.12-slim`
- **åŒ…ç®¡ç†**: pip, requirements.txt
- **è™šæ‹Ÿç¯å¢ƒ**: venv æˆ– poetry

### Node.js è¿è¡Œç¯å¢ƒ
- **è½¯ä»¶åç§°**: Node.js
- **ç‰ˆæœ¬è¦æ±‚**: >= 18.x LTS
- **ç”¨é€”**: å‰ç«¯æ„å»ºå’Œå¼€å‘
- **å®˜æ–¹URL**: https://nodejs.org/
- **å®¹å™¨é•œåƒ**: `node:18-alpine`
- **åŒ…ç®¡ç†**: npm æˆ– yarn
- **é¢„æœŸå®‰è£…è·¯å¾„**: `/usr/local/bin/node`

## æ•°æ®å½’æ¡£å’Œç®¡ç† (å·²å®ç°)

### Archive Manager (å·²å®ç°)
- **è½¯ä»¶åç§°**: è‡ªå®šä¹‰æ•°æ®å½’æ¡£ç³»ç»Ÿ
- **å®ç°æ–‡ä»¶**: `archive_manager.py`
- **ç”¨é€”**: ç»Ÿä¸€æ•°æ®å½’æ¡£ã€å…ƒæ•°æ®ç®¡ç†ã€å¢é‡æ›´æ–°
- **æ ¸å¿ƒåŠŸèƒ½**:
  - æ ‡å‡†åŒ–æ–‡ä»¶å‘½å: `financial_rss_{timestamp}_real_feeds.json`
  - å®Œæ•´å…ƒæ•°æ®è¿½è¸ª: æ•°æ®å“ˆå¸Œã€è®°å½•æ•°é‡ã€åˆ›å»ºæ—¶é—´
  - å¢é‡æ›´æ–°æ”¯æŒ: é¿å…é‡å¤å­˜å‚¨
- **å­˜å‚¨æ ¼å¼**: JSON + å…ƒæ•°æ®
- **èµ„æºå ç”¨**: ~50MB å†…å­˜ï¼Œ~20MB ç£ç›˜ç©ºé—´
- **å·²å­˜å‚¨**: ~100-200ç¯‡è´¢ç»æ–°é—»

### æ—¶é—´æ€§+ç›¸å…³æ€§æœç´¢å¼•æ“ (å·²å®ç°)
- **è½¯ä»¶åç§°**: è‡ªå®šä¹‰æ··åˆæœç´¢ç®—æ³•
- **å®ç°æ–‡ä»¶**: `time_relevance_rag_search.py`
- **æœç´¢ç­–ç•¥**: 30%æ—¶é—´æƒé‡ + 70%ç›¸å…³æ€§æƒé‡
- **æ ¸å¿ƒåŠŸèƒ½**:
  - ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—
  - æ—¶é—´è¡°å‡å› å­
  - é‡è¦æ€§è¯„åˆ† (1-10åˆ†)
  - æœ€ç»ˆæ··åˆè¯„åˆ†
- **æ€§èƒ½**: <1ç§’æœç´¢å“åº”
- **èµ„æºå ç”¨**: ~100MB å†…å­˜ï¼Œ~10MB ç£ç›˜ç©ºé—´
- **ä½¿ç”¨ç¤ºä¾‹**: `python3 time_relevance_rag_search.py "å¤®è¡Œæ”¿ç­–"`

### Open WebUI
- **è½¯ä»¶åç§°**: Open WebUI
- **ç‰ˆæœ¬è¦æ±‚**: æœ€æ–°ç‰ˆ
- **å®é™…ç‰ˆæœ¬**: âœ… main (å·²å®‰è£…)
- **ç”¨é€”**: LLMæ¨¡å‹ç®¡ç†å’Œè°ƒè¯•ç•Œé¢ï¼Œæ”¯æŒå¤šæ¨¡å‹åˆ‡æ¢
- **å®˜æ–¹URL**: https://github.com/open-webui/open-webui
- **å®¹å™¨é•œåƒ**: `ghcr.io/open-webui/open-webui:main`
- **ç«¯å£**: 3000 (å®é™…ä½¿ç”¨)
- **èµ„æºå ç”¨**: ~200MB å†…å­˜ï¼Œ~100MB ç£ç›˜ç©ºé—´
- **ä¾èµ–å…³ç³»**: ä¾èµ– Ollama
- **æ”¯æŒæ¨¡å‹**: Qwen2.5-7B, DeepSeek-Coder-1.3B
- **å®‰è£…çŠ¶æ€**: âœ… å®¹å™¨ä¸‹è½½å®Œæˆï¼Œç­‰å¾…éªŒè¯

### Redis Commander (Redisç®¡ç†)
- **è½¯ä»¶åç§°**: Redis Commander
- **ç‰ˆæœ¬è¦æ±‚**: æœ€æ–°ç‰ˆ
- **ç”¨é€”**: Redisæ•°æ®åº“Webç®¡ç†ç•Œé¢
- **å®˜æ–¹URL**: https://github.com/joeferner/redis-commander
- **å®¹å™¨é•œåƒ**: `docker.io/rediscommander/redis-commander:latest`
- **ç«¯å£**: 8081 (å›ºå®šï¼Œä¸å¯ä¿®æ”¹)
- **èµ„æºå ç”¨**: ~50MB å†…å­˜ï¼Œ~30MB ç£ç›˜ç©ºé—´
- **ä¾èµ–å…³ç³»**: ä¾èµ– Redis

### Flower (Celeryç›‘æ§)
- **è½¯ä»¶åç§°**: Flower
- **ç‰ˆæœ¬è¦æ±‚**: >= 2.0.0
- **ç”¨é€”**: Celeryä»»åŠ¡é˜Ÿåˆ—Webç›‘æ§ç•Œé¢
- **å®˜æ–¹URL**: https://flower.readthedocs.io/
- **å®‰è£…å‘½ä»¤**:
  ```bash
  pip install flower==2.0.1
  ```
- **å¯åŠ¨å‘½ä»¤**:
  ```bash
  celery -A app.celery flower --port=5555
  ```
- **ç«¯å£**: 5555 (å›ºå®šï¼Œä¸å¯ä¿®æ”¹)
- **ç›‘æ§åŠŸèƒ½**: ä»»åŠ¡çŠ¶æ€ã€é˜Ÿåˆ—é•¿åº¦ã€Workerçš„æ€§èƒ½ã€å¤±è´¥ä»»åŠ¡é‡è¯•
- **èµ„æºå ç”¨**: ~60MB å†…å­˜ï¼Œ~20MB ç£ç›˜ç©ºé—´
- **ä¾èµ–å…³ç³»**: ä¾èµ– Celery + Redis

## å®é™…èµ„æºéœ€æ±‚ (å·²éªŒè¯)

### å½“å‰RAGç³»ç»Ÿé…ç½®
- **CPU**: 2æ ¸å¿ƒ (WSL2ç¯å¢ƒ)
- **å†…å­˜**: 2GB (RAGæœåŠ¡ + ChromaDB)
- **ç£ç›˜**: 5GB (åŒ…å«å‘é‡æ•°æ®åº“å’Œå½’æ¡£)
- **ç½‘ç»œ**: 100Mbps (RSSç›‘æ§å’Œç¿»è¯‘API)
- **çŠ¶æ€**: âœ… è¿è¡Œæ­£å¸¸ï¼Œæ€§èƒ½ä¼˜è‰¯

### æ‰©å±•é…ç½® (è®¡åˆ’å¾®æœåŠ¡åŒ–)
- **CPU**: 8æ ¸å¿ƒ
- **å†…å­˜**: 16GB (åŒ…å«AIæ¨¡å‹)
- **ç£ç›˜**: 50GB SSD
- **ç½‘ç»œ**: 1000Mbps
- **GPU**: å¯é€‰ (AIæ¨ç†åŠ é€Ÿ)

### æ¨¡å‹åˆ‡æ¢è¯´æ˜
- Ollamaæ”¯æŒåŠ¨æ€æ¨¡å‹åŠ è½½/å¸è½½
- åœ¨Open WebUIä¸­åˆ‡æ¢æ¨¡å‹æ—¶ï¼Œæ—§æ¨¡å‹ä¼šè‡ªåŠ¨é‡Šæ”¾å†…å­˜
- å»ºè®®ä¼˜å…ˆä½¿ç”¨DeepSeek-1.3Bè¿›è¡Œæµ‹è¯•ï¼Œéœ€è¦æ—¶å†åˆ‡æ¢å¤§æ¨¡å‹

## å½“å‰ç«¯å£ä½¿ç”¨æƒ…å†µ

| æœåŠ¡ | ç«¯å£ | åè®® | ç”¨é€” | è¿è¡ŒçŠ¶æ€ |
|------|------|------|------|----------|
| ChromaDB | 8000 | HTTP | å‘é‡æ•°æ®åº“ | âœ… è¿è¡Œä¸­ |
| RSS Monitor | - | Process | åå°ç›‘æ§è¿›ç¨‹ | âœ… 15åˆ†é’Ÿé—´éš” |
| RAG Search | - | CLI | å‘½ä»¤è¡Œæœç´¢å·¥å…· | âœ… å¯ç”¨ |
| Archive Manager | - | FileSystem | æ–‡ä»¶ç³»ç»Ÿå½’æ¡£ | âœ… è‡ªåŠ¨ç®¡ç† |
| Translation API | - | External | Googleç¿»è¯‘æœåŠ¡ | âœ… ç½‘ç»œè°ƒç”¨ |

### è®¡åˆ’ç«¯å£ (å¾®æœåŠ¡åŒ–å)
| æœåŠ¡ | ç«¯å£ | åè®® | ç”¨é€” | è®¡åˆ’çŠ¶æ€ |
|------|------|------|------|----------|
| Frontend | 3000 | HTTP | Reactç•Œé¢ | ğŸ”® è®¡åˆ’ä¸­ |
| RAG API | 8001 | HTTP | RAGæœåŠ¡API | ğŸ”® è®¡åˆ’ä¸­ |
| Stock Service | 8000 | HTTP | è‚¡ç¥¨åˆ†æAPI | ğŸ”® è®¡åˆ’ä¸­ |
| Open WebUI | 3001 | HTTP | RAGç®¡ç†ç•Œé¢ | ğŸ”® è®¡åˆ’ä¸­ |

**æœ€åæ›´æ–°æ—¶é—´**: 2025-09-16 12:15:00
**å½“å‰è¿è¡ŒæœåŠ¡**: PostgreSQL(5432), Redis(6379), Ollama(11434), ChromaDB(8000)
**éªŒè¯æ–¹æ³•**: `podman ps` æŸ¥çœ‹è¿è¡ŒçŠ¶æ€

## å®‰è£…é¡ºåºå»ºè®®

1. **é˜¶æ®µ1**: Podman Engine + Podman Compose
2. **é˜¶æ®µ2**: æ•°æ®åº“ (PostgreSQL, Redis)
3. **é˜¶æ®µ3**: WebæœåŠ¡å™¨ (Nginx)
4. **é˜¶æ®µ4**: AIæœåŠ¡ (Ollama + 3ä¸ªæ¨¡å‹, ChromaDB)
5. **é˜¶æ®µ5**: Pythonæ•°æ®å¤„ç†åº“ (APScheduler, Pandas)
6. **é˜¶æ®µ6**: ç›‘æ§å·¥å…· (Open WebUI, Redis Commander, Celery Flower)

## å®Œæ•´è½¯ä»¶åŒ…æ¸…å•å’Œå®‰è£…å‘½ä»¤

### ç³»ç»ŸåŸºç¡€åŒ…
```bash
# Ubuntu/Debian ç³»ç»ŸåŒ…
sudo apt update && sudo apt install -y \
    curl wget git vim htop tree unzip \
    software-properties-common apt-transport-https \
    ca-certificates gnupg lsb-release
```

### RAGæœåŠ¡Pythonç¯å¢ƒ (å·²å®‰è£…)
```bash
# Python 3.12 è™šæ‹Ÿç¯å¢ƒ
python3 -m venv rag_env
source rag_env/bin/activate

# å®é™…å®‰è£…çš„ä¾èµ–åŒ…
pip install \
    chromadb==0.4.18 \
    scikit-learn>=1.3.0 \
    jieba>=0.42.1 \
    aiohttp>=3.8.0 \
    feedparser>=6.0.0 \
    googletrans==4.0.0rc1 \
    langdetect>=1.0.9 \
    requests>=2.31.0 \
    beautifulsoup4>=4.12.0
```

### å®¹å™¨å’Œé•œåƒ
```bash
# Podman å®‰è£…
sudo apt install -y podman
pip3 install podman-compose

# å®¹å™¨é•œåƒæ‹‰å–
podman pull docker.io/timescale/timescaledb:latest-pg15
podman pull docker.io/redis:7-alpine
podman pull docker.io/chromadb/chroma:latest
podman pull docker.io/nginx:alpine
podman pull docker.io/rediscommander/redis-commander:latest
podman pull ghcr.io/open-webui/open-webui:main
```

### RAGæ ¸å¿ƒå·¥å…· (å·²å®ç°)
```bash
# RSSç›‘æ§æœåŠ¡
./start_rss_monitoring.sh  # å¯åŠ¨15åˆ†é’Ÿé—´éš”ç›‘æ§
./stop_rss_monitoring.sh   # åœæ­¢ç›‘æ§æœåŠ¡

# RAGæœç´¢å·¥å…·
python3 time_relevance_rag_search.py "å¤®è¡Œæ”¿ç­–"  # ä¸­æ–‡æœç´¢
python3 time_relevance_rag_search.py "Reuters"  # è‹±æ–‡æœç´¢

# æ•°æ®åº“ç®¡ç†
python3 rag_database_viewer.py overview     # æŸ¥çœ‹æ•°æ®åº“æ¦‚å†µ
python3 rag_database_viewer.py collections  # æŸ¥çœ‹é›†åˆä¿¡æ¯
```

### Node.js ç¯å¢ƒ
```bash
# Node.js 18 LTS
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs
```

---

## è‡ªåŠ¨åŒ–éƒ¨ç½²

**è¯¦ç»†éƒ¨ç½²æŒ‡å—**: è¯·å‚è€ƒ `/docs/è‡ªåŠ¨åŒ–éƒ¨ç½²æŒ‡å—.md`

**ä¸€é”®éƒ¨ç½²å‘½ä»¤**:
```bash
# ä¸‹è½½éƒ¨ç½²è„šæœ¬
wget https://raw.githubusercontent.com/your-repo/prism2/main/scripts/deploy.sh
chmod +x deploy.sh
./deploy.sh
```

**é€‚ç”¨åœºæ™¯**: AIåŠ©æ‰‹ã€ç³»ç»Ÿç®¡ç†å‘˜ã€DevOpså·¥ç¨‹å¸ˆå¯ä½¿ç”¨æ­¤æ–‡æ¡£åœ¨æ–°æœºå™¨ä¸Šå®Œæ•´å¤ç°ç³»ç»Ÿã€‚

---

## ğŸ“‹ RAGç³»ç»Ÿå®æ–½è®°å½• (2025-09-17)

### å®æ–½æ€»ç»“
**å¼€å‘æ—¶é—´**: 2025-09-16 - 2025-09-17 (2å¤©)
**å®æ–½æ–¹å¼**: Pythonå¼€å‘ + ChromaDBå®¹å™¨
**æ“ä½œç³»ç»Ÿ**: Ubuntu 24.04 WSL2
**æœ€ç»ˆçŠ¶æ€**: RAGæ ¸å¿ƒåŠŸèƒ½å…¨é¢å®ç°å¹¶è¿è¡Œ

### å·²å®ç°RAGåŠŸèƒ½ç»„ä»¶
| ç»„ä»¶ | åŠŸèƒ½çŠ¶æ€ | éªŒè¯æ–¹æ³• | æ€§èƒ½è¡¨ç° |
|------|----------|----------|----------|
| RSSç›‘æ§æœåŠ¡ | âœ… è¿è¡Œä¸­ | `ps aux | grep rss_monitor` | 15åˆ†é’Ÿé—´éš”æ­£å¸¸ |
| æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿ | âœ… å·²éªŒè¯ | `python3 test_translation.py` | 90%+å‡†ç¡®ç‡ |
| TF-IDFå‘é‡åŒ– | âœ… æ­£å¸¸ | å‘é‡ç»´åº¦æ£€æŸ¥ | 1000ç»´ç‰¹å¾å‘é‡ |
| ChromaDBå­˜å‚¨ | âœ… è¿è¡Œä¸­ | `docker ps | grep chroma` | <1ç§’æŸ¥è¯¢å“åº” |
| æ—¶é—´ç›¸å…³æ€§æœç´¢ | âœ… æ­£å¸¸ | æ··åˆæœç´¢æµ‹è¯• | 30%+70%æƒé‡æ­£å¸¸ |
| æ•°æ®å½’æ¡£ç³»ç»Ÿ | âœ… æ­£å¸¸ | JSONæ–‡ä»¶æ£€æŸ¥ | ç»Ÿä¸€å‘½åè§„èŒƒ |
| å¤šæºæ•°æ®æ”¶é›† | âœ… å·²éªŒè¯ | Thomson Reutersæµ‹è¯• | 9ç¯‡çœŸå®æ–°é—» |
| ä¸­æ–‡åˆ†è¯ä¼˜åŒ– | âœ… æ­£å¸¸ | jiebaåˆ†è¯æµ‹è¯• | ä¸­æ–‡è¯­æ–™ä¼˜åŒ– |
| Pythonç¯å¢ƒ | âœ… æ­£å¸¸ | `source rag_env/bin/activate` | è™šæ‹Ÿç¯å¢ƒéš”ç¦» |

### RAGç³»ç»Ÿèµ„æºä½¿ç”¨
- **ç£ç›˜ä½¿ç”¨**: ~5GB (å‘é‡æ•°æ®åº“ + å½’æ¡£æ–‡ä»¶ + Pythonç¯å¢ƒ)
- **å†…å­˜ä½¿ç”¨**: ~2GB (ChromaDB + Pythonè¿›ç¨‹)
- **ä¸»è¦ç»„ä»¶**: ChromaDBå®¹å™¨(~1GB) + å½’æ¡£æ•°æ®(~1GB) + Pythonç¯å¢ƒ(~500MB)

### å…³é”®æŠ€æœ¯å®ç°
1. **å¤šæºRSSæ•°æ®æ”¶é›†**: æˆåŠŸé›†æˆBloombergã€Thomson Reutersç­‰æƒå¨æº
   - **æˆæœ**: éªŒè¯è·å–Thomson Reuters 9ç¯‡çœŸå®æ–°é—»
   - **ç‰¹ç‚¹**: 15åˆ†é’Ÿè‡ªåŠ¨é—´éš”ã€è´¨é‡è¿‡æ»¤ã€é‡è¦æ€§è¯„åˆ†

2. **æ™ºèƒ½ç¿»è¯‘ç³»ç»Ÿ**: è‹±æ–‡â†’ä¸­æ–‡è‡ªåŠ¨ç¿»è¯‘ï¼Œè¯­è¨€æ£€æµ‹+ç¿»è¯‘ç¼“å­˜
   - **å‡†ç¡®ç‡**: 90%+ (é‡‘èä¸“ä¸šæœ¯è¯­)
   - **ç‰¹ç‚¹**: åŒè¯­ä¿å­˜ã€é€‰æ‹©æ€§ç¿»è¯‘ã€æ‰¹é‡å¤„ç†

3. **æ—¶é—´æ€§+ç›¸å…³æ€§æœç´¢**: 30%æ—¶é—´æƒé‡+70%ç›¸å…³æ€§æƒé‡æ··åˆç®—æ³•
   - **å“åº”æ—¶é—´**: <1ç§’
   - **ç‰¹ç‚¹**: TF-IDFå‘é‡åŒ–ã€ä¸­æ–‡åˆ†è¯ä¼˜åŒ–ã€ä½™å¼¦ç›¸ä¼¼åº¦

### æ ¸å¿ƒå·¥å…·æ–‡ä»¶
å·²å®ç°çš„RAGå·¥å…·:
- `time_relevance_rag_search.py` - æ—¶é—´æ€§+ç›¸å…³æ€§æœç´¢å¼•æ“
- `rag_database_viewer.py` - RAGæ•°æ®åº“æŸ¥çœ‹å™¨
- `real_rss_monitor.py` - çœŸå®RSSç›‘æ§æœåŠ¡
- `translated_rss_monitor.py` - ç¿»è¯‘å¢å¼ºRSSç›‘æ§
- `archive_manager.py` - æ•°æ®å½’æ¡£ç®¡ç†ç³»ç»Ÿ
- `start_rss_monitoring.sh` - RSSç›‘æ§å¯åŠ¨è„šæœ¬
- `stop_rss_monitoring.sh` - RSSç›‘æ§åœæ­¢è„šæœ¬

### RAGç³»ç»Ÿä¼˜åŠ¿
- âœ… **å¤šè¯­è¨€æ”¯æŒ**: è‹±æ–‡â†’ä¸­æ–‡æ™ºèƒ½ç¿»è¯‘ï¼Œå…¨çƒä¿¡æ¯è¦†ç›–
- âœ… **æ—¶æ•ˆæ€§ä¼˜åŒ–**: æ—¶é—´æƒé‡ç®—æ³•ï¼Œæœ€æ–°æ¶ˆæ¯ä¼˜å…ˆæ’åº
- âœ… **æŠ•èµ„ä¸“ä¸šæ€§**: é‡‘èå…³é”®è¯è¯†åˆ«ã€é‡è¦æ€§è¯„åˆ†ç³»ç»Ÿ
- âœ… **é«˜æ€§èƒ½**: <1ç§’æœç´¢å“åº”ï¼Œ90%+ç¿»è¯‘å‡†ç¡®ç‡
- âœ… **å®Œæ•´å½’æ¡£**: ç»Ÿä¸€å‘½åè§„èŒƒã€å…ƒæ•°æ®è¿½è¸ªã€å¢é‡æ›´æ–°

**è¯¦ç»†å®‰è£…æ—¥å¿—**: å‚è§ `/docs/åŸºç¡€è®¾æ–½.log`