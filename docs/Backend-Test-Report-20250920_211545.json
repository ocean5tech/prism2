{
  "start_time": "2025-09-20 21:15:37.504049",
  "online_api_tests": {
    "api_001": {
      "success": true,
      "response_time": 2.0566961765289307,
      "stock_code": "600549",
      "data_sources": {
        "redis": [],
        "postgresql": [
          "financial",
          "announcements",
          "shareholders",
          "longhubang"
        ],
        "akshare": [
          "realtime",
          "kline",
          "basic_info"
        ]
      },
      "cache_info": {
        "realtime": "fetched_cached",
        "kline": "fetched_cached",
        "basic_info": "fetched_cached",
        "financial": "miss_cached",
        "announcements": "miss_cached",
        "shareholders": "miss_cached",
        "longhubang": "miss_cached"
      },
      "data_types_count": 7
    },
    "database_storage": {
      "stock_financial": 1,
      "stock_announcements": 1,
      "stock_shareholders": 1,
      "stock_longhubang": 1
    },
    "redis_cache": {
      "keys_count": 7,
      "keys": [
        "kline:600549:days:60",
        "realtime:600549",
        "basic_info:600549",
        "announcements:600549",
        "longhubang:600549",
        "shareholders:600549",
        "financial:600549"
      ]
    },
    "api_002": {
      "success": true,
      "response_time": 0.0059278011322021484,
      "cache_info": {
        "realtime": "hit",
        "kline": "hit",
        "basic_info": "hit"
      }
    },
    "api_003": {
      "success": true,
      "message": "增强版Dashboard API - 三层架构",
      "status": null,
      "version": "2.0.0"
    }
  },
  "batch_processing_tests": {
    "batch_001": {
      "success": true,
      "watchlist_id": 14,
      "stock_codes": [
        "688660",
        "600629",
        "600619"
      ],
      "priority_level": 5
    },
    "batch_002": {
      "success": true,
      "processing_time": 2.524684190750122,
      "processed_stocks": null,
      "successful_stocks": null,
      "failed_stocks": null
    },
    "rag_001": {
      "success": true,
      "sync_time": 0.9692819118499756,
      "successful_syncs": 3,
      "failed_syncs": 3,
      "new_versions_created": 3
    }
  },
  "data_consistency_tests": {
    "data_001": {
      "success": true,
      "test_stock": "600549",
      "data_types": {
        "financial": {
          "redis_status": "有数据",
          "redis_size": 27631,
          "postgresql_status": "有数据",
          "postgresql_update_time": "2025-09-20 12:46:19.361124",
          "consistency_rate": 0.5
        },
        "announcements": {
          "redis_status": "有数据",
          "redis_size": 6261,
          "postgresql_status": "有数据",
          "postgresql_update_time": "2025-09-20 12:46:19.855733",
          "consistency_rate": 0.5
        },
        "shareholders": {
          "redis_status": "有数据",
          "redis_size": 1279,
          "postgresql_status": "有数据",
          "postgresql_update_time": "2025-09-20 12:46:20.486794",
          "consistency_rate": 0.5
        }
      }
    },
    "data_002": {
      "success": true,
      "coverage_data": {
        "600549": {
          "financial": "✓",
          "announcements": "✓",
          "shareholders": "✓",
          "longhubang": "✓"
        },
        "688660": {
          "financial": "✓",
          "announcements": "✓",
          "shareholders": "✗",
          "longhubang": "✗"
        },
        "600629": {
          "financial": "✓",
          "announcements": "✓",
          "shareholders": "✗",
          "longhubang": "✗"
        },
        "600619": {
          "financial": "✓",
          "announcements": "✓",
          "shareholders": "✗",
          "longhubang": "✗"
        }
      },
      "rag_versions_count": 3,
      "rag_data": {
        "600619": {
          "announcements": {
            "status": "active",
            "chunk_count": 2
          }
        },
        "600629": {
          "announcements": {
            "status": "active",
            "chunk_count": 2
          }
        },
        "688660": {
          "announcements": {
            "status": "active",
            "chunk_count": 9
          }
        }
      }
    }
  },
  "performance_tests": {
    "perf_001": {
      "success": true,
      "cold_start_time": 0.005304813385009766,
      "hot_cache_time": 0.004643440246582031,
      "avg_concurrent_time": 0.0046613216400146484,
      "performance_grade": {
        "cold_start": "优秀",
        "hot_cache": "优秀"
      }
    }
  },
  "integration_tests": {
    "e2e_001": {
      "success": true,
      "cold_start": {
        "success": true,
        "response_time": 0.05352902412414551,
        "cache_info": {
          "financial": "miss_cached",
          "announcements": "miss_cached"
        }
      },
      "batch_processing": {
        "success": true,
        "processing_time": 0.21370244026184082,
        "result": {
          "processed": 2,
          "success": 2,
          "failed": 0,
          "skipped": 0,
          "failed_items": [],
          "cache_hits": 0,
          "cache_misses": 2
        }
      },
      "rag_sync": {
        "success": true,
        "sync_time": 0.35509705543518066,
        "result": {
          "total_stocks": 1,
          "total_data_types": 2,
          "processed_items": 2,
          "successful_syncs": 1,
          "failed_syncs": 1,
          "skipped_syncs": 0,
          "new_versions_created": 1,
          "versions_activated": 1,
          "failed_items": [
            {
              "stock_code": "688660",
              "data_type": "financial",
              "error": "无法获取结构化数据"
            }
          ],
          "processing_time": 0.35488128662109375,
          "start_time": "2025-09-20 21:15:44.812879",
          "end_time": "2025-09-20 21:15:45.167761"
        }
      },
      "hot_cache": {
        "success": true,
        "response_time": 0.006735563278198242,
        "cache_info": {
          "financial": "hit",
          "announcements": "hit"
        }
      }
    }
  },
  "summary": {
    "test_execution_time": 7.671764,
    "total_tests": 10,
    "passed_tests": 10,
    "failed_tests": 0,
    "success_rate": 100.0,
    "test_stocks": {
      "online": "600549",
      "batch": [
        "688660",
        "600629",
        "600619"
      ]
    },
    "overall_status": "PASS"
  },
  "end_time": "2025-09-20 21:15:45.175813"
}